{"version":3,"sources":["../../src/config/configureAuth.js"],"names":["userController","configureAuth","passport","app","config","use","initialize","session","serializeUser","user","cb","deserializeUser","obj","clientID","facebookAuth","clientSecret","callbackURL","profileFields","req","accessToken","refreshToken","profile","done","process","nextTick","usertoken","findOrCreateFBUser"],"mappings":";;;;;;AAAA;;AACA;;IAAYA,c;;;;AAEX,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,QAAD,EAAUC,GAAV,EAAcC,MAAd,EAAyB;AAC9CD,MAAIE,GAAJ,CAAQH,SAASI,UAAT,EAAR;AACAH,MAAIE,GAAJ,CAAQH,SAASK,OAAT,EAAR;;AAEAL,WAASM,aAAT,CAAuB,UAAUC,IAAV,EAAgBC,EAAhB,EAAoB;AACzCA,OAAG,IAAH,EAASD,IAAT;AACD,GAFD;;AAIAP,WAASS,eAAT,CAAyB,UAAUC,GAAV,EAAeF,EAAf,EAAmB;AAC1CA,OAAG,IAAH,EAASE,GAAT;AACD,GAFD;;AAIA;AACAV,WAASG,GAAT,CAAa,+BAAqB;AAC9B;AACDQ,cAAeT,OAAOU,YAAP,CAAoBD,QAFJ;AAG/BE,kBAAeX,OAAOU,YAAP,CAAoBC,YAHJ;AAI/BC,iBAAeZ,OAAOU,YAAP,CAAoBE,WAJJ;AAK/BC,mBAAe,CAAC,IAAD,EAAO,MAAP,EAAc,qBAAd,EAAqC,QAArC,EAA+C,aAA/C,EAA8D,OAA9D,EAAuE,QAAvE;AALgB,GAArB,EAOb,UAASC,GAAT,EAAaC,WAAb,EAAyBC,YAAzB,EAAsCC,OAAtC,EAA8CC,IAA9C,EAAmD;AACjDC,YAAQC,QAAR,CAAiB,YAAU;AACzB,UAAMC,YAAazB,eAAe0B,kBAAf,CAAkCL,OAAlC,EAA0CC,IAA1C,CAAnB;AACA,aAAOG,SAAP;AACD,KAHD;AAID,GAZY,CAAb;AAeD,CA5BA;;kBA+BcxB,a","file":"configureAuth.js","sourcesContent":["import {Strategy as FacebookStrategy} from 'passport-facebook';\nimport * as userController from '../controllers/user.server.controller';\n\n const configureAuth = (passport,app,config) => {\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  passport.serializeUser(function (user, cb) {\n    cb(null, user);\n  });\n\n  passport.deserializeUser(function (obj, cb) {\n    cb(null, obj);\n  });\n\n  //Facebook Authentication\n  passport.use(new FacebookStrategy({\n      //pull in your app id and secret from your auth.js file\n     clientID :     config.facebookAuth.clientID,\n     clientSecret:  config.facebookAuth.clientSecret,\n     callbackURL:   config.facebookAuth.callbackURL,\n     profileFields: ['id', 'name','picture.type(large)', 'emails', 'displayName', 'about', 'gender']\n  },\n  function(req,accessToken,refreshToken,profile,done){\n    process.nextTick(function(){\n      const usertoken =  userController.findOrCreateFBUser(profile,done);\n      return usertoken;\n    });\n  }\n));\n\n}\n\n\nexport default configureAuth;\n"]}